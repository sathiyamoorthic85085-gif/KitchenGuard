import { canvasMode } from './canvas-mode/canvas-mode.js';
import { errorOverlay } from './error-overlay/error-overlay.js';
import { errorReporter } from './error-reporter/error-reporter.js';
import { mochaWatermark } from './mocha-watermark/mocha-watermark.js';
import { previewIframeHistory } from './preview-iframe-history/preview-iframe-history.js';
import { mochaAnalytics } from './mocha-analytics/mocha-analytics.js';
const plugins = {
    'canvas-mode': canvasMode,
    'error-overlay': errorOverlay,
    'error-reporter': errorReporter,
    'mocha-watermark': mochaWatermark,
    'mocha-analytics': mochaAnalytics,
    'preview-iframe-history': previewIframeHistory,
};
function mochaPlugins(env) {
    const activePlugins = env.PLUGINS ? env.PLUGINS.split(',') : [];
    return activePlugins
        .map((plugin) => plugins[plugin])
        .filter((plugin) => !!plugin)
        .map((plugin) => plugin(env));
}
export { mochaPlugins };
